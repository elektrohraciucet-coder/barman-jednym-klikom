<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <title>Barman-jednym-klikom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="frontend.css">
</head>
<body>

<h1>Vyber si drink üçπ</h1>

<div class="grid">

    <div class="drink" onclick="sendDrink(1)">
        <div class="title">Margarita</div>
        <img src="images/4mix.jpeg" alt="Ultimate 4-ingrediente coctail">
    </div>

    <div class="drink" onclick="sendDrink(2)">
        <div class="title">Cuba Libre</div>
        <img src="images/vtc.jpeg" alt="Vodka Tonic Cola">
    </div>

    <div class="drink" onclick="sendDrink(3)">
        <div class="title">Gin Tonic</div>
        <img src="images/vc.png" alt="Vodka Cola">
    </div>

    <div class="drink" onclick="sendDrink(4)">
        <div class="title">Whiskey Cola</div>
        <img src="images/vl.png" alt="Vodka Lemon">
    </div>

    <div class="drink" onclick="sendDrink(5)">
        <div class="title">Vodka Orange</div>
        <img src="images/vt.png" alt="Vodka Tonic">
    </div>

    <div class="drink" onclick="sendDrink(6)">
        <div class="title">Tequila Sun</div>
        <img src="images/tcn.jpeg" alt="Tonic Cola">
    </div>

    <div class="drink" onclick="sendDrink(7)">
        <div class="title">Rum Punch</div>
        <img src="images/vcl.jpeg" alt="Vodka Cloa Lemon">
    </div>

    <div class="drink" onclick="sendDrink(8)">
        <div class="title">Long Island</div>
        <img src="images/cln.jpeg" alt="Cola Lemon">
    </div>

    <div class="drink" onclick="sendDrink(9)">
        <div class="title">Mojito</div>
        <img src="images/tln.jpeg" alt="Tonic Lemon">
    </div>

    <div class="drink" onclick="sendDrink(10)">
        <div class="title">Bloody Mary</div>
        <img src="images/cvt.png" alt="Citronovy Vodka Tonic">
    </div>

</div>

<p id="status">Testovac√≠ re≈æim ‚Äì ESP32 nie je pripojen√©</p>

<script>
function sendDrink(number) {
    document.getElementById("status").innerText =
        "Vybran√Ω drink ƒç√≠slo " + number;

    console.log("Odoslane cislo:", number);

    // POSIELANIE NA ESP32
    fetch("http://192.168.4.1/drink", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ drink: number })
    })
    .then(response => {
        if (response.ok) {
            document.getElementById("status").innerText += " ‚Üí ESP32 prijal ƒç√≠slo";
        } else {
            document.getElementById("status").innerText += " ‚Üí chyba pri odosielan√≠";
        }
    })
    .catch(err => {
        document.getElementById("status").innerText += " ‚Üí ESP32 nie je pripojen√©";
        console.error(err);
    });

}
</script>

</body>
</html>
