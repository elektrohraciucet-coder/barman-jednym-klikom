<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <title>Barman-jednym-klikom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="frontend.css">
</head>
<body>

<h1>Vyber si drink üçπ</h1>

<div class="grid">

    <div class="drink" onclick="sendDrink(1)">
        <div class="title">Margarita</div>
        <img src="images/margarita.png" alt="Margarita">
        <span>Margarita</span>
    </div>

    <div class="drink" onclick="sendDrink(2)">
        <div class="title">Cuba Libre</div>
        <img src="images/cubalibre.png" alt="Cuba Libre">
        <span>Cuba Libre</span>
    </div>

    <div class="drink" onclick="sendDrink(3)">
        <div class="title">Gin Tonic</div>
        <img src="images/ginandtonic.png" alt="Gin Tonic">
        <span>Gin Tonic</span>
    </div>

    <div class="drink" onclick="sendDrink(4)">
        <div class="title">Whiskey Cola</div>
        <img src="images/whiskeycola.jpg" alt="Whiskey Cola">
        <span>Whiskey Cola</span>
    </div>

    <div class="drink" onclick="sendDrink(5)">
        <div class="title">Vodka Orange</div>
        <img src="images/vodkaorange.png" alt="Vodka Orange">
        <span>Vodka Orange</span>
    </div>

    <div class="drink" onclick="sendDrink(6)">
        <div class="title">Tequila Sun</div>
        <img src="images/tequilasunrise.png" alt="Tequila Sun">
        <span>Tequila Sun</span>
    </div>

    <div class="drink" onclick="sendDrink(7)">
        <div class="title">Rum Punch</div>
        <img src="images/rumpunch.png" alt="Rum Punch">
        <span>Rum Punch</span>
    </div>

    <div class="drink" onclick="sendDrink(8)">
        <div class="title">Long Island</div>
        <img src="images/longisland.png" alt="Long Island">
        <span>Long Island</span>
    </div>

    <div class="drink" onclick="sendDrink(9)">
        <div class="title">Mojito</div>
        <img src="images/mojito.png" alt="Mojito">
        <span>Mojito</span>
    </div>

    <div class="drink" onclick="sendDrink(10)">
        <div class="title">Bloody Mary</div>
        <img src="images/bloodymary.jpg" alt="Bloody Mary">
        <span>Bloody Mary</span>
    </div>

</div>

<p id="status">Testovac√≠ re≈æim ‚Äì ESP32 nie je pripojen√©</p>

<script>
function sendDrink(number) {
    document.getElementById("status").innerText =
        "Vybran√Ω drink ƒç√≠slo " + number;

    console.log("Odoslane cislo:", number);

    // POSIELANIE NA ESP32
    fetch("http://192.168.4.1/drink", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ drink: number })
    })
    .then(response => {
        if (response.ok) {
            document.getElementById("status").innerText += " ‚Üí ESP32 prijal ƒç√≠slo";
        } else {
            document.getElementById("status").innerText += " ‚Üí chyba pri odosielan√≠";
        }
    })
    .catch(err => {
        document.getElementById("status").innerText += " ‚Üí ESP32 nie je pripojen√©";
        console.error(err);
    });

}
</script>

</body>
</html>
